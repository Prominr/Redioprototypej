const fs = require('fs');
const path = require('path');

// Create public/uv directory
const uvDir = path.join(__dirname, 'public', 'uv');
if (!fs.existsSync(uvDir)) {
  fs.mkdirSync(uvDir, { recursive: true });
}

// Copy UV files from node_modules
const uvSource = path.join(__dirname, 'node_modules', '@titaniumnetwork-dev', 'ultraviolet', 'dist');

if (fs.existsSync(uvSource)) {
  const files = fs.readdirSync(uvSource);
  files.forEach(file => {
    fs.copyFileSync(
      path.join(uvSource, file),
      path.join(uvDir, file)
    );
  });
  console.log('✅ Ultraviolet files copied successfully');
} else {
  console.error('❌ Ultraviolet not found. Run: npm install @titaniumnetwork-dev/ultraviolet');
}

// Create public directory if it doesn't exist
const publicDir = path.join(__dirname, 'public');
if (!fs.existsSync(publicDir)) {
  fs.mkdirSync(publicDir);
  console.log('✅ Public directory created');
}

console.log('🚀 Setup complete!');